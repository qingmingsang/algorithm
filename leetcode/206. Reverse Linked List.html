<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>hello</title>
  <meta name="description" content="">
  <meta name="valwords" content="">
  <!-- <link rel="shortcut icon" href="favicon.ico"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 默认使用webkit内核 -->
  <meta name="renderer" content="webkit">
  <!-- 兼容模式 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link href="" rel="stylesheet">
</head>

<body>
  <!-- 

206. Reverse Linked List
Easy

3017

75

Favorite

Share
Reverse a singly linked list.

Example:

Input: 1->2->3->4->5->NULL
Output: 5->4->3->2->1->NULL
Follow up:

A linked list can be reversed either iteratively or recursively. Could you implement both?
 
 -->
  <script>
    console.time();
    function ListNode(val) {
      this.val = val;
      this.next = null;
    }
    function LinkedList(list) {
      let head = null
      const append = (element) => { // 向链表尾部加一个元素
        let node = new ListNode(element)
        let current
        if (head === null) {
          head = node
        } else {
          current = head
          while (current.next) {
            current = current.next
          }
          current.next = node
        }
      }
      list.map((v) => {
        append(v);
      })
      return head;
    }
    let x = LinkedList([1, 2, 3, 4, 5, null]);
    console.log(x)
    let y = LinkedList([0, 1, 4, -2]);
    console.log(y)
    let z = LinkedList([]);
    console.log(z)
    /**
     * Definition for singly-linked list.
     * function ListNode(val) {
     *     this.val = val;
     *     this.next = null;
     * }
     */
    /**
     * @param {ListNode} head
     * @return {ListNode}
     */
    var reverseList1 = function (head) {
      let node = head;
      let res = [];
      while (node && node.val !== null) {
        res.unshift(node.val);
        node = node.next;
      }
      let newHead = null
      const append = (element) => {
        let node = new ListNode(element)
        let current
        if (newHead === null) {
          newHead = node
        } else {
          current = newHead
          while (current.next) {
            current = current.next
          }
          current.next = node
        }
      }
      res.map((v) => {
        append(v);
      })
      return newHead;
    };
    var reverseList2 = function (head) {
      if (head === null) {
        return head;
      }
      let cur = head;
      let prev = null;
      let next = null;
      while (cur && cur.next !== null && cur.next.val !== null) {
        next = cur.next;
        cur.next = prev;
        prev = cur;
        cur = next;
      }
      cur.next = prev;
      return cur;
    };
    function reverseList3(head) {
      let prev = null;
      while (head && head.val !== null) {
        let next = head.next;
        head.next = prev;
        prev = head;
        head = next;
      }
      return prev;
    }
    function reverseList(head) {
      if (!head || !head.next || head.next.val === null) {
        //返回倒数第二个，也就是null前的节点
        return head;
      }
      var newHead = reverseList(head.next);
      head.next.next = head;//将之前最后一个节点设置为head
      head.next = null;//将之前最后一个节点前一个节点设置为null
      return newHead;
    }
    console.log('-->', reverseList(x))//
    console.log('-->', reverseList(y))//
    console.timeEnd();
  </script>
</body>

</html>