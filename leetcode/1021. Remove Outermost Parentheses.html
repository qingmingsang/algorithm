<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>hello</title>
  <meta name="description" content="">
  <meta name="valwords" content="">
  <!-- <link rel="shortcut icon" href="favicon.ico"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 默认使用webkit内核 -->
  <meta name="renderer" content="webkit">
  <!-- 兼容模式 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link href="" rel="stylesheet">
</head>

<body>
  <!-- 

1021. Remove Outermost Parentheses
Easy

242

363

Favorite

Share
A valid parentheses string is either empty (""), "(" + A + ")", or A + B, where A and B are valid parentheses strings, and + represents string concatenation.  For example, "", "()", "(())()", and "(()(()))" are all valid parentheses strings.

A valid parentheses string S is primitive if it is nonempty, and there does not exist a way to split it into S = A+B, with A and B nonempty valid parentheses strings.

Given a valid parentheses string S, consider its primitive decomposition: S = P_1 + P_2 + ... + P_k, where P_i are primitive valid parentheses strings.

Return S after removing the outermost parentheses of every primitive string in the primitive decomposition of S.

 

Example 1:

Input: "(()())(())"
Output: "()()()"
Explanation: 
The input string is "(()())(())", with primitive decomposition "(()())" + "(())".
After removing outer parentheses of each part, this is "()()" + "()" = "()()()".
Example 2:

Input: "(()())(())(()(()))"
Output: "()()()()(())"
Explanation: 
The input string is "(()())(())(()(()))", with primitive decomposition "(()())" + "(())" + "(()(()))".
After removing outer parentheses of each part, this is "()()" + "()" + "()(())" = "()()()()(())".
Example 3:

Input: "()()"
Output: ""
Explanation: 
The input string is "()()", with primitive decomposition "()" + "()".
After removing outer parentheses of each part, this is "" + "" = "".
 

Note:

S.length <= 10000
S[i] is "(" or ")"
S is a valid parentheses string
 
    
 -->
  <script>
    console.time();
    /**
  * @param {string} S
  * @return {string}
  */
    //(S.match(/\((\(+\)+)*\)(?=(\((\(+\)+)*\))*\))/g) || []).join('');
    var removeOuterParentheses = function (S) {
      let v = '';
      let sum = 0;
      let res = '';
      for (let i = 0; i < S.length; i++) {
        v = S[i];
        if (v === '(') {
          sum++;
        }
        if (sum > 1) {
          res += v;
        }
        if (v === ')') {
          sum--;
        }
      }
      return res;
    };
    console.log(removeOuterParentheses("(()())"))
    console.log(removeOuterParentheses("(()())(())(()(()))"))
    console.log(removeOuterParentheses('(((((())))))'))//"((((()))))"
    console.log(removeOuterParentheses('(()())(())'))
    console.log(removeOuterParentheses('(()())(())(()(()))'))//()()()()(())
    console.log(removeOuterParentheses('()()()'))
    console.timeEnd();
  </script>
</body>

</html>